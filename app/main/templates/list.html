<ion-view view-title="Tweets">
  <ion-content>

    <div ng-if="list.loading"
         class="loading_overlay">
      <ion-spinner icon="crescent"></ion-spinner>
    </div>

    <div class="list list-inset">
      <label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <form ng-submit="list.search(list.data.searchString)">
          <input type="text"
                 placeholder="Search"
                 ng-model="list.data.searchString"
                 ng-blur="list.closeKeyboard()">
        </form>
      </label>
    </div>

    <ion-list ng-if="!list.hasTweets()">
      <h1 class="padding">trending hashtags</h1>
      <ion-item ng-click="list.search('#progmetal')">
        <h2>#progmetal</h2>
      </ion-item>
      <ion-item ng-repeat="trend in list.data.trendingHashTags.trends"
        ng-click="list.search( trend.name )">
        <h2>{{ trend.name }}</h2>
      </ion-item>
    </ion-list>

    <ion-list>
      <ion-item ng-repeat="tweet in list.data.tweets.statuses"
                class="item-remove-animate item-avatar item-icon-right"
                type="item-text-wrap"
                ui-sref="main.listDetail({id: tweet.id})">
        <img src="{{ tweet.user.profile_image_url }}"
             title="{{ tweet.user.screen_name }}">
        <h2 ng-bind-html="tweet.text">
          {{tweet.text}}
        </h2>
        <p>
          <span>
            {{ tweet.user.screen_name }} -
          </span>
          <span>
            {{ tweet.created_at | date }}
          </span>
        </p>
        <i class="icon ion-chevron-right icon-accessory"></i>
      </ion-item>
    </ion-list>

  </ion-content>
</ion-view>
